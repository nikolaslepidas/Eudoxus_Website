<div id="id01" class="modal">
  
  <form class="modal-content animate" action="/action_page.php">
    <div class="imgcontainer">
      <span onclick="document.getElementById('id01').style.display='none'" class="close" title="Κλείσιμο παραθύρου">&times;</span>
      <!--<img src="img_avatar2.png" alt="Avatar" class="avatar">-->
    </div>

    <div class="container">
      <label for="uname01"><b>Όνομα χρήστη</b></label>
      <input type="text" placeholder="Εισαγωγή ονόματος χρήστη" id="uname01" required>

      <label for="psw01"><b>Συνθηματικό</b></label>
      <input type="password" placeholder="Εισαγωγή συνθηματικού" id="psw01" required>
        
      <button type="submit">Σύνδεση</button>
      <label>
        <input type="checkbox" checked="checked" id="remember01"> Να με θυμάσαι
      </label>
    </div>

    <div class="container" style="background-color:#f1f1f1">
      <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Ακύρωση</button>
      <span class="psw">Ξέχασες το <a href="#">συνθηματικό</a>;</span>
    </div>
  </form>
</div>

<div id="id02" class="modal">
  
    <form class="modal-content animate" action="/action_page.php">
      <div class="imgcontainer">
        <span onclick="document.getElementById('id02').style.display='none'" class="close" title="Κλείσιμο παραθύρου">&times;</span>
        <!--<img src="img_avatar2.png" alt="Avatar" class="avatar">-->
      </div>
  
      <div class="container">
        <label for="uname02"><b>Όνομα χρήστη *</b></label>
        <input type="text" placeholder="Εισαγωγή ονόματος χρήστη" id="uname02" required>

        <label for="email"><b>E-mail *</b></label>
        <input type="text" placeholder="Εισαγωγή e-mail" id="email" required>
  
        <label for="psw02"><b>Συνθηματικό *</b></label>
        <input type="password" placeholder="Εισαγωγή συνθηματικού" id="psw02" required>

        <label for="psw03"><b>Επαλήθευση συνθηματικού *</b></label>
        <input type="password" placeholder="Εισαγωγή συνθηματικού" id="psw03" required>

        <label for="user_team"><b>Ομάδα χρήστη *</b></label>
        <select id="user_team">
          <option value="none">--</option>
          <option value="student">Φοιτητής</option>
          <option value="publisher">Εκδότης</option>
          <option value="distributor">Διανομέας</option>
          <option value="sectretary">Γραμματεία</option>
        </select>

        <div id="univ" style="visibility: hidden;">
          <label for="university"><b>Πανεπιστήμιο *</b></label>
          <select id="university">
              <option value="none">--</option>
              <option value="ekpa">ΕΚΠΑ</option>
          </select>
        </div>

        <div id="depart" style="visibility: hidden;">
          <label for="ekpa_department"><b>Τμήμα</b></label>
          <select id="ekpa_department">
            <option value="none">--</option>
            <option value="computer">Πληροφορικής & Τηλεπικοινωνιών</option>
            <option value="maths">Μαθηματικών</option>
            <option value="chemistry">Χημείας</option>
          </select>
        </div>

        <button id="register" type="submit">Εγγραφή</button>
        <label>
          <input type="checkbox" checked="checked" id="remember02"> Να με θυμάσαι
        </label><br>

        <label><b>Όλα τα πεδία με αστερίσκο(*) είναι υποχρεωτικά.</b></label><br><br>
        <label id="matchpass"></label><br>
        <label id="registration_problem"></label>
      </div>
  
      <div class="container" style="background-color:#f1f1f1">
        <button type="button" onclick="document.getElementById('id02').style.display='none'" class="cancelbtn">Ακύρωση</button>
        <span class="psw">Ξέχασες το <a href="#">συνθηματικό</a>;</span>
      </div>
    </form>
  </div>

<script>
    // Get the modal
    var modal1 = document.getElementById('id01');
    var modal2 = document.getElementById('id02');
    
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal1) {
            modal1.style.display = "none";
        }else if (event.target == modal2) {
            modal2.style.display = "none";
        }
    }

    // Show an error if two passwords do not match
    function validatePassword() {
      // Get the passwords
      var psw02 = document.getElementById('psw02');
      var psw03 = document.getElementById('psw03');
      var matchpass = document.getElementById('matchpass');

      if ((psw02.value) != (psw03.value)) {
        matchpass.innerHTML = "Οι κωδικοί δεν είναι όμοιοι!"
        matchpass.style.color = "red";
        return -1;
      } else if ((psw02.value == "") && (psw03.value == "")){
        matchpass.innerHTML = "";
        return -2;
      } else {
        matchpass.innerHTML = "Οι κωδικοί ταιριάζουν!";
        matchpass.style.color = "green";
        return 1;
      }
    }

    // Get register button
    var register = document.getElementById('register');
    // Get registration_problem
    var registration_problem = document.getElementById('registration_problem');
    // Get sign up id
    var sign_up_id = document.getElementById('id02');
    // Get username
    var username = document.getElementById('uname02');
    // Get email
    var email = document.getElementById('email');


    // Validate registration
    function validateRegister() {
      if ((validatePassword() == 1) && (username.value != "") && (email.value != "")) { // check also if the email or username are already used (database)
        registration_problem.innerHTML = "";
        return true;
      } else if ((username.value == "") || (email.value == "") || (psw02.value == "") || (psw03.value == "")) {
        registration_problem.innerHTML = "Παρακαλώ συμπλήρωσε όλα τα υποχρεωτικά πεδία.";
        registration_problem.style.color = "red";
        return false;
      } else if (validatePassword() == -1) {
        registration_problem.innerHTML = "Έλεγξε ότι ταιριάζουν τα συνθηματικά που έχεις επιλέξει.";
        registration_problem.style.color = "red";
        return false;
      } else if (validatePassword() == -2) {
        registration_problem.innerHTML = "Παρακαλώ προσθέστε κάποιο συνθηματικό.";
        registration_problem.style.color = "red";
        return false;
      }
    }

    // Get user-team
    var user_team = document.getElementById('user_team');

    // Make visible the right extra fields for registration
    function hiddenUniversities() {
      if (user_team.value == "none") {
        document.getElementById('university').value = "none";
        document.getElementById('univ').style.visibility = "hidden";
        document.getElementById('depart').style.visibility = "hidden";
      } else if (user_team.value == "student") {
        document.getElementById('univ').style.visibility = "visible";
      } else if (user_team.value == "publisher") {
        document.getElementById('university').value = "none";
        document.getElementById('univ').style.visibility = "hidden";
        document.getElementById('depart').style.visibility = "hidden";
      } else if (user_team.value == "distributor") {
        document.getElementById('university').value = "none";
        document.getElementById('univ').style.visibility = "hidden";
        document.getElementById('depart').style.visibility = "hidden";
      } else if (user_team.value == "secretary") {
        document.getElementById('university').value = "none";
        document.getElementById('univ').style.visibility = "hidden";
        document.getElementById('depart').style.visibility = "hidden";
      }
    }

    // Get user_univ
    var university = document.getElementById('university');

    // Make visible departments
    function hiddenDepartments() {
      if (university.value == "none") {
        document.getElementById('ekpa_department').value = "none";
        document.getElementById('depart').style.visibility = "hidden";    // add other universities' departments also
      } else if (university.value == "ekpa") {
        document.getElementById('depart').style.visibility = "visible";
      }
    }

    university.onchange = hiddenDepartments;
    user_team.onchange = hiddenUniversities;
    register.onclick = validateRegister;
    psw02.onkeyup = validatePassword;
    psw03.onkeyup = validatePassword;
</script>